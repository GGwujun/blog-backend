<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
    <link rel="stylesheet" href="/blog-backend/umi.3ec1f225.css" />
    <script>
      window.routerBase = "/blog-backend";
    </script>
    <script>
      //! umi version: 3.5.41
    </script>
    <script>
      !(function () {
        var e =
            navigator.cookieEnabled && void 0 !== window.localStorage
              ? localStorage.getItem("dumi:prefers-color")
              : "auto",
          o = window.matchMedia("(prefers-color-scheme: dark)").matches,
          t = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === t[2] ? (o ? t[1] : t[0]) : t.indexOf(e) > -1 ? e : t[0]
        );
      })();
    </script>
    <title>39｜性能分析（下）：API Server性能测试和调优实战 - 大师兄</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/go语言项目开发实战/06.实战第4站服务测试/04" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-backend/">大师兄</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span>后端开发<ul><li><a href="/blog-backend/go语言核心36讲">go语言核心36讲</a></li><li><a href="/blog-backend/go并发编程实战">go并发编程实战</a></li><li><a aria-current="page" class="active" href="/blog-backend/go语言项目开发实战">go语言项目开发实战</a></li><li><a href="/blog-backend/kafka核心技术与实战">kafka核心技术与实战</a></li><li><a href="/blog-backend/kafka核心源码解读">kafka核心源码解读</a></li><li><a href="/blog-backend/零基础学python">零基础学python</a></li><li><a href="/blog-backend/python核心技术与实战">python核心技术与实战</a></li><li><a href="/blog-backend/redis核心技术与实战">redis核心技术与实战</a></li><li><a href="/blog-backend/redis源码剖析与实战">redis源码剖析与实战</a></li><li><a href="/blog-backend/陈天rust编程第一课">陈天rust编程第一课</a></li><li><a href="/blog-backend/tonybaigo语言第一课">tonybaigo语言第一课</a></li><li><a href="/blog-backend/后端存储实战课">后端存储实战课</a></li><li><a href="/blog-backend/后端技术面试38讲">后端技术面试38讲</a></li><li><a href="/blog-backend/深入c语言和程序运行原理">深入c语言和程序运行原理</a></li><li><a href="/blog-backend/现代c编程实战">现代c编程实战</a></li><li><a href="/blog-backend/罗剑锋的c实战笔记">罗剑锋的c实战笔记</a></li><li><a href="/blog-backend/零基础入门spark">零基础入门spark</a></li></ul></span><span>架构师<ul><li><a href="/blog-backend/mysql实战45讲">mysql实战45讲</a></li><li><a href="/blog-backend/数据中台实战课">数据中台实战课</a></li></ul></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-backend/"></a><h1>大师兄</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li>后端开发<ul><li><a href="/blog-backend/go语言核心36讲">go语言核心36讲</a></li><li><a href="/blog-backend/go并发编程实战">go并发编程实战</a></li><li><a aria-current="page" class="active" href="/blog-backend/go语言项目开发实战">go语言项目开发实战</a></li><li><a href="/blog-backend/kafka核心技术与实战">kafka核心技术与实战</a></li><li><a href="/blog-backend/kafka核心源码解读">kafka核心源码解读</a></li><li><a href="/blog-backend/零基础学python">零基础学python</a></li><li><a href="/blog-backend/python核心技术与实战">python核心技术与实战</a></li><li><a href="/blog-backend/redis核心技术与实战">redis核心技术与实战</a></li><li><a href="/blog-backend/redis源码剖析与实战">redis源码剖析与实战</a></li><li><a href="/blog-backend/陈天rust编程第一课">陈天rust编程第一课</a></li><li><a href="/blog-backend/tonybaigo语言第一课">tonybaigo语言第一课</a></li><li><a href="/blog-backend/后端存储实战课">后端存储实战课</a></li><li><a href="/blog-backend/后端技术面试38讲">后端技术面试38讲</a></li><li><a href="/blog-backend/深入c语言和程序运行原理">深入c语言和程序运行原理</a></li><li><a href="/blog-backend/现代c编程实战">现代c编程实战</a></li><li><a href="/blog-backend/罗剑锋的c实战笔记">罗剑锋的c实战笔记</a></li><li><a href="/blog-backend/零基础入门spark">零基础入门spark</a></li></ul></li><li>架构师<ul><li><a href="/blog-backend/mysql实战45讲">mysql实战45讲</a></li><li><a href="/blog-backend/数据中台实战课">数据中台实战课</a></li></ul></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/blog-backend/go语言项目开发实战">go语言项目开发实战</a></li><li><a href="/blog-backend/go语言项目开发实战/01.开篇词">01.开篇词</a><ul><li><a href="/blog-backend/go语言项目开发实战/01.开篇词/01"><span>开篇词 | 从 0 开始搭建一个企业级 Go 应用</span></a></li></ul></li><li><a href="/blog-backend/go语言项目开发实战/02.课前必学">02.课前必学</a><ul><li><a href="/blog-backend/go语言项目开发实战/02.课前必学/01"><span>01 | IAM系统概述：我们要实现什么样的 Go 项目？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/02.课前必学/02"><span>02 | 环境准备：如何安装和配置一个基本的 Go 开发环境？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/02.课前必学/03"><span>03 | 项目部署：如何快速部署 IAM 系统？</span></a></li></ul></li><li><a href="/blog-backend/go语言项目开发实战/03.实战第1站规范设计">03.实战第1站规范设计</a><ul><li><a href="/blog-backend/go语言项目开发实战/03.实战第1站规范设计/01"><span>04 | 规范设计（上）：项目开发杂乱无章，如何规范？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/03.实战第1站规范设计/02"><span>05 | 规范设计（下）：commit 信息风格迥异、难以阅读，如何规范？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/03.实战第1站规范设计/03"><span>06 | 目录结构设计：如何组织一个可维护、可扩展的代码目录？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/03.实战第1站规范设计/04"><span>07 | 工作流设计：如何设计合理的多人开发模式？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/03.实战第1站规范设计/05"><span>08 | 研发流程设计（上）：如何设计 Go 项目的开发流程？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/03.实战第1站规范设计/06"><span>09 | 研发流程设计（下）：如何管理应用的生命周期？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/03.实战第1站规范设计/07"><span>10 | 设计方法：怎么写出优雅的 Go 项目？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/03.实战第1站规范设计/08"><span>11 | 设计模式：Go常用设计模式概述</span></a></li></ul></li><li><a href="/blog-backend/go语言项目开发实战/04.实战第2站基础功能设计或开发">04.实战第2站基础功能设计或开发</a><ul><li><a href="/blog-backend/go语言项目开发实战/04.实战第2站基础功能设计或开发/01"><span>12 | API 风格（上）：如何设计RESTful API？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/04.实战第2站基础功能设计或开发/02"><span>13 | API 风格（下）：RPC API介绍</span></a></li><li><a href="/blog-backend/go语言项目开发实战/04.实战第2站基础功能设计或开发/03"><span>14 | 项目管理：如何编写高质量的Makefile？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/04.实战第2站基础功能设计或开发/04"><span>15 | 研发流程实战：IAM项目是如何进行研发流程管理的？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/04.实战第2站基础功能设计或开发/05"><span>16 | 代码检查：如何进行静态代码检查？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/04.实战第2站基础功能设计或开发/06"><span>17 | API 文档：如何生成 Swagger API 文档 ？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/04.实战第2站基础功能设计或开发/07"><span>18 | 错误处理（上）：如何设计一套科学的错误码？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/04.实战第2站基础功能设计或开发/08"><span>19 | 错误处理（下）：如何设计错误包？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/04.实战第2站基础功能设计或开发/09"><span>20 | 日志处理（上）：如何设计日志包并记录日志？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/04.实战第2站基础功能设计或开发/10"><span>21 | 日志处理（下）：手把手教你从 0 编写一个日志包</span></a></li><li><a href="/blog-backend/go语言项目开发实战/04.实战第2站基础功能设计或开发/11"><span>22 | 应用构建三剑客：Pflag、Viper、Cobra 核心功能介绍</span></a></li><li><a href="/blog-backend/go语言项目开发实战/04.实战第2站基础功能设计或开发/12"><span>23 | 应用构建实战：如何构建一个优秀的企业应用框架？</span></a></li></ul></li><li><a href="/blog-backend/go语言项目开发实战/05.实战第3站服务开发">05.实战第3站服务开发</a><ul><li><a href="/blog-backend/go语言项目开发实战/05.实战第3站服务开发/01"><span>24 | Web 服务：Web 服务核心功能有哪些，如何实现？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/05.实战第3站服务开发/02"><span>25 | 认证机制：应用程序如何进行访问认证？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/05.实战第3站服务开发/03"><span>26 | IAM项目是如何设计和实现访问认证功能的？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/05.实战第3站服务开发/04"><span>27 | 权限模型：5大权限模型是如何进行资源授权的？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/05.实战第3站服务开发/05"><span>28 | 控制流（上）：通过iam-apiserver设计，看Web服务的构建</span></a></li><li><a href="/blog-backend/go语言项目开发实战/05.实战第3站服务开发/06"><span>29｜控制流（下）：iam-apiserver服务核心功能实现讲解</span></a></li><li><a href="/blog-backend/go语言项目开发实战/05.实战第3站服务开发/07"><span>30 | ORM：CURD 神器 GORM 包介绍及实战</span></a></li><li><a href="/blog-backend/go语言项目开发实战/05.实战第3站服务开发/08"><span>31 | 数据流：通过iam-authz-server设计，看数据流服务的设计</span></a></li><li><a href="/blog-backend/go语言项目开发实战/05.实战第3站服务开发/09"><span>32 | 数据处理：如何高效处理应用程序产生的数据？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/05.实战第3站服务开发/10"><span>33 |  SDK 设计（上）：如何设计出一个优秀的 Go SDK？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/05.实战第3站服务开发/11"><span>34 | SDK 设计（下）：IAM项目Go SDK设计和实现</span></a></li><li><a href="/blog-backend/go语言项目开发实战/05.实战第3站服务开发/12"><span>35 | 效率神器：如何设计和实现一个命令行客户端工具？</span></a></li></ul></li><li><a aria-current="page" class="active" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试">06.实战第4站服务测试</a><ul><li><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/01"><span>36 | 代码测试（上）：如何编写 Go 语言单元测试和性能测试用例？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/02"><span>37 | 代码测试（下）：Go 语言其他测试类型及 IAM 测试介绍</span></a></li><li><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/03"><span>38｜性能分析（上）：如何分析 Go 语言代码的性能？</span></a></li><li><a aria-current="page" class="active" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04"><span>39｜性能分析（下）：API Server性能测试和调优实战</span></a></li></ul></li><li><a href="/blog-backend/go语言项目开发实战/07.实战第5站服务部署">07.实战第5站服务部署</a><ul><li><a href="/blog-backend/go语言项目开发实战/07.实战第5站服务部署/01"><span>40 | 软件部署实战（上）：部署方案及负载均衡、高可用组件介绍</span></a></li><li><a href="/blog-backend/go语言项目开发实战/07.实战第5站服务部署/02"><span>41 | 软件部署实战（中）：IAM 系统生产环境部署实战</span></a></li><li><a href="/blog-backend/go语言项目开发实战/07.实战第5站服务部署/03"><span>42 | 软件部署实战（下）：IAM系统安全加固、水平扩缩容实战</span></a></li><li><a href="/blog-backend/go语言项目开发实战/07.实战第5站服务部署/04"><span>43｜技术演进（上）：虚拟化技术演进之路</span></a></li><li><a href="/blog-backend/go语言项目开发实战/07.实战第5站服务部署/05"><span>44｜技术演进（下）：软件架构和应用生命周期技术演进之路</span></a></li><li><a href="/blog-backend/go语言项目开发实战/07.实战第5站服务部署/06"><span>45｜基于Kubernetes的云原生架构设计</span></a></li><li><a href="/blog-backend/go语言项目开发实战/07.实战第5站服务部署/07"><span>46 | 如何制作Docker镜像？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/07.实战第5站服务部署/08"><span>47 | 如何编写Kubernetes资源定义文件？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/07.实战第5站服务部署/09"><span>48 | 基于腾讯云 EKS 的容器化部署实战</span></a></li><li><a href="/blog-backend/go语言项目开发实战/07.实战第5站服务部署/10"><span>49 | 服务编排（上）：Helm服务编排基础知识</span></a></li><li><a href="/blog-backend/go语言项目开发实战/07.实战第5站服务部署/11"><span>50 | 服务编排（下）：基于Helm的服务编排部署实战</span></a></li><li><a href="/blog-backend/go语言项目开发实战/07.实战第5站服务部署/12"><span>51 | 基于 GitHub Actions 的 CI 实战</span></a></li></ul></li><li><a href="/blog-backend/go语言项目开发实战/08.特别放送">08.特别放送</a><ul><li><a href="/blog-backend/go语言项目开发实战/08.特别放送/01"><span>特别放送 | 给你一份清晰、可直接套用的Go编码规范</span></a></li><li><a href="/blog-backend/go语言项目开发实战/08.特别放送/02"><span>特别放送 | 给你一份Go项目中最常用的Makefile核心语法</span></a></li><li><a href="/blog-backend/go语言项目开发实战/08.特别放送/03"><span>特别放送 | Go Modules依赖包管理全讲</span></a></li><li><a href="/blog-backend/go语言项目开发实战/08.特别放送/04"><span>特别放送 | IAM排障指南</span></a></li><li><a href="/blog-backend/go语言项目开发实战/08.特别放送/05"><span>特别放送 | Go Modules实战</span></a></li><li><a href="/blog-backend/go语言项目开发实战/08.特别放送/06"><span>特别放送 | 分布式作业系统设计和实现</span></a></li><li><a href="/blog-backend/go语言项目开发实战/08.特别放送/07"><span>直播加餐｜如何从小白进阶成 Go 语言专家？</span></a></li></ul></li><li><a href="/blog-backend/go语言项目开发实战/09.结束语">09.结束语</a><ul><li><a href="/blog-backend/go语言项目开发实战/09.结束语/01"><span>结束语 | 如何让自己的 Go 研发之路走得更远？</span></a></li><li><a href="/blog-backend/go语言项目开发实战/09.结束语/02"><span>期末考试｜《Go语言项目开发实战》满分试卷，等你来挑战！</span></a></li></ul></li><li><a href="/blog-backend/go语言项目开发实战/summary">go语言项目开发实战</a></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="API性能测试指标" data-depth="2"><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#api性能测试指标"><span>API性能测试指标</span></a></li><li title="API性能测试方法" data-depth="2"><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#api性能测试方法"><span>API性能测试方法</span></a></li><li title="wrk安装方法" data-depth="3"><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#wrk安装方法"><span>wrk安装方法</span></a></li><li title="wrk使用简介" data-depth="3"><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#wrk使用简介"><span>wrk使用简介</span></a></li><li title="API Server性能测试实践" data-depth="2"><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#api-server性能测试实践"><span>API Server性能测试实践</span></a></li><li title="性能测试脚本介绍" data-depth="3"><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#性能测试脚本介绍"><span>性能测试脚本介绍</span></a></li><li title="关闭Debug配置选项" data-depth="3"><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#关闭debug配置选项"><span>关闭Debug配置选项</span></a></li><li title="使用wrktest.sh测试IAM API接口性能" data-depth="3"><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#使用wrktestsh测试iam-api接口性能"><span>使用wrktest.sh测试IAM API接口性能</span></a></li><li title="API Server性能分析" data-depth="2"><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#api-server性能分析"><span>API Server性能分析</span></a></li><li title="API接口性能参考" data-depth="3"><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#api接口性能参考"><span>API接口性能参考</span></a></li><li title="API Server性能测试注意事项" data-depth="2"><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#api-server性能测试注意事项"><span>API Server性能测试注意事项</span></a></li><li title="Web框架性能" data-depth="3"><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#web框架性能"><span>Web框架性能</span></a></li><li title="API接口性能" data-depth="3"><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#api接口性能"><span>API接口性能</span></a></li><li title="测试环境" data-depth="3"><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#测试环境"><span>测试环境</span></a></li><li title="总结" data-depth="2"><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#总结"><span>总结</span></a></li><li title="课后练习" data-depth="2"><a href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#课后练习"><span>课后练习</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="39性能分析下api-server性能测试和调优实战"><a aria-hidden="true" tabindex="-1" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#39性能分析下api-server性能测试和调优实战"><span class="icon icon-link"></span></a>39｜性能分析（下）：API Server性能测试和调优实战</h1><p>你好，我是孔令飞。</p><p>上一讲，我们学习了如何分析Go代码的性能。掌握了性能分析的基本知识之后，这一讲，我们再来看下如何分析API接口的性能。</p><p>在API上线之前，我们需要知道API的性能，以便知道API服务器所能承载的最大请求量、性能瓶颈，再根据业务对性能的要求，来对API进行性能调优或者扩缩容。通过这些，可以使API稳定地对外提供服务，并且让请求在合理的时间内返回。这一讲，我就介绍如何用wrk工具来测试API Server接口的性能，并给出分析方法和结果。</p><h2 id="api性能测试指标"><a aria-hidden="true" tabindex="-1" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#api性能测试指标"><span class="icon icon-link"></span></a>API性能测试指标</h2><p>API性能测试，往大了说其实包括API框架的性能和指定API的性能。不过，因为指定API的性能跟该API具体的实现（比如有无数据库连接，有无复杂的逻辑处理等）有关，我认为脱离了具体实现来探讨单个API的性能是毫无意义的，所以这一讲只探讨API框架的性能。</p><p>用来衡量API性能的指标主要有3个：</p><ul><li>并发数（Concurrent）：并发数是指某个时间范围内，同时在使用系统的用户个数。广义上的并发数是指同时使用系统的用户个数，这些用户可能调用不同的API；严格意义上的并发数是指同时请求同一个API的用户个数。这一讲我们讨论的并发数是严格意义上的并发数。</li><li>每秒查询数（QPS）：每秒查询数QPS是对一个特定的查询服务器在规定时间内所处理流量多少的衡量标准。QPS = 并发数 / 平均请求响应时间。</li><li>请求响应时间（TTLB）：请求响应时间指的是从客户端发出请求到得到响应的整个时间。这个过程从客户端发起的一个请求开始，到客户端收到服务器端的响应结束。在一些工具中，请求响应时间通常会被称为TTLB（Time to last byte，意思是从发送一个请求开始，到客户端收到最后一个字节的响应为止所消费的时间）。请求响应时间的单位一般为“秒”或“毫秒”。</li></ul><p>这三个指标中，衡量API性能的最主要指标是QPS，但是在说明QPS时，需要指明是多少并发数下的QPS，否则毫无意义，因为不同并发数下的QPS是不同的。举个例子，单用户100 QPS和100用户100 QPS是两个不同的概念，前者说明API可以在一秒内串行执行100个请求，而后者说明在并发数为100的情况下，API可以在一秒内处理100个请求。当QPS相同时，并发数越大，说明API性能越好，并发处理能力越强。</p><p>在并发数设置过大时，API同时要处理很多请求，会频繁切换上下文，而真正用于处理请求的时间变少，反而使得QPS会降低。并发数设置过大时，请求响应时间也会变长。API会有一个合适的并发数，在该并发数下，API的QPS可以达到最大，但该并发数不一定是最佳并发数，还要参考该并发数下的平均请求响应时间。</p><p>此外，在有些API接口中，也会测试API接口的TPS（Transactions Per Second，每秒事务数）。一个事务是指客户端向服务器发送请求，然后服务器做出反应的过程。客户端在发送请求时开始计时，收到服务器响应后结束计时，以此来计算使用的时间和完成的事务个数。</p><p>那么，TPS和QPS有什么区别呢？如果是对一个查询接口（单场景）压测，且这个接口内部不会再去请求其他接口，那么TPS=QPS，否则，TPS≠QPS。如果是对多个接口（混合场景）压测，假设N个接口都是查询接口，且这个接口内部不会再去请求其他接口，QPS=N*TPS。</p><h2 id="api性能测试方法"><a aria-hidden="true" tabindex="-1" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#api性能测试方法"><span class="icon icon-link"></span></a>API性能测试方法</h2><p>Linux下有很多Web性能测试工具，常用的有Jmeter、AB、Webbench和wrk。每个工具都有自己的特点，IAM项目使用wrk来对API进行性能测试。wrk非常简单，安装方便，测试结果也相对专业，并且可以支持Lua脚本来创建更复杂的测试场景。下面，我来介绍下wrk的安装方法和使用方法。</p><h3 id="wrk安装方法"><a aria-hidden="true" tabindex="-1" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#wrk安装方法"><span class="icon icon-link"></span></a>wrk安装方法</h3><p>wrk的安装很简单，一共可分为两步。</p><p>第一步，Clone wrk repo：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ git clone https://github.com/wg/wrk</span></div></pre></div><p>第二步，编译并安装：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ cd wrk</span></div><div class="token-line"><span class="token plain">    $ make</span></div><div class="token-line"><span class="token plain">    $ sudo cp ./wrk /usr/bin</span></div></pre></div><h3 id="wrk使用简介"><a aria-hidden="true" tabindex="-1" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#wrk使用简介"><span class="icon icon-link"></span></a>wrk使用简介</h3><p>这里我们来看下wrk的使用方法。wrk使用起来不复杂，执行<code>wrk \--help</code>可以看到wrk的所有运行参数：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ wrk --help</span></div><div class="token-line"><span class="token plain">    Usage: wrk &lt;options&gt; &lt;url&gt;</span></div><div class="token-line"><span class="token plain">      Options:</span></div><div class="token-line"><span class="token plain">        -c, --connections &lt;N&gt;  Connections to keep open</span></div><div class="token-line"><span class="token plain">        -d, --duration    &lt;T&gt;  Duration of test</span></div><div class="token-line"><span class="token plain">        -t, --threads     &lt;N&gt;  Number of threads to use</span></div><div class="token-line"><span class="token plain">    </span></div><div class="token-line"><span class="token plain">        -s, --script      &lt;S&gt;  Load Lua script file</span></div><div class="token-line"><span class="token plain">        -H, --header      &lt;H&gt;  Add header to request</span></div><div class="token-line"><span class="token plain">            --latency          Print latency statistics</span></div><div class="token-line"><span class="token plain">            --timeout     &lt;T&gt;  Socket/request timeout</span></div><div class="token-line"><span class="token plain">        -v, --version          Print version details</span></div><div class="token-line"><span class="token plain">    </span></div><div class="token-line"><span class="token plain">      Numeric arguments may include a SI unit (1k, 1M, 1G)</span></div><div class="token-line"><span class="token plain">      Time arguments may include a time unit (2s, 2m, 2h)</span></div></pre></div><p>常用的参数有下面这些：</p><ul><li>-t，线程数（线程数不要太多，是核数的2到4倍就行，多了反而会因为线程切换过多造成效率降低）。</li><li>-c，并发数。</li><li>-d，测试的持续时间，默认为10s。</li><li>-T，请求超时时间。</li><li>-H，指定请求的HTTP Header，有些API需要传入一些Header，可通过wrk的-H参数来传入。</li><li>–latency，打印响应时间分布。</li><li>-s，指定Lua脚本，Lua脚本可以实现更复杂的请求。</li></ul><p>然后，我们来看一个wrk的测试结果，并对结果进行解析。</p><p>一个简单的测试如下（确保iam-apiserver已经启动，并且开启了健康检查）：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ wrk -t144 -c30000 -d30s -T30s --latency http://10.0.4.57:8080/healthz</span></div><div class="token-line"><span class="token plain">    Running 30s test @ http://10.0.4.57:8080/healthz</span></div><div class="token-line"><span class="token plain">      144 threads and 30000 connections</span></div><div class="token-line"><span class="token plain">      Thread Stats   Avg      Stdev     Max   +/- Stdev</span></div><div class="token-line"><span class="token plain">        Latency   508.77ms  604.01ms   9.27s    81.59%</span></div><div class="token-line"><span class="token plain">        Req/Sec   772.48      0.94k   10.45k    86.82%</span></div><div class="token-line"><span class="token plain">      Latency Distribution</span></div><div class="token-line"><span class="token plain">         50%  413.35ms</span></div><div class="token-line"><span class="token plain">         75%  948.99ms</span></div><div class="token-line"><span class="token plain">         90%    1.33s</span></div><div class="token-line"><span class="token plain">         99%    2.44s</span></div><div class="token-line"><span class="token plain">      2276265 requests in 30.10s, 412.45MB read</span></div><div class="token-line"><span class="token plain">      Socket errors: connect 1754, read 40, write 0, timeout 0</span></div><div class="token-line"><span class="token plain">    Requests/sec:  75613.16</span></div><div class="token-line"><span class="token plain">    Transfer/sec:     13.70MB</span></div></pre></div><p>下面是对测试结果的解析。</p><ul><li>144 threads and 30000 connections：用144个线程模拟20000个连接，分别对应-t和-c参数。</li><li>Thread Stats是线程统计，包括Latency和Req/Sec。<ul><li>Latency：响应时间，有平均值、标准偏差、最大值、正负一个标准差占比。</li><li>Req/Sec：每个线程每秒完成的请求数, 同样有平均值、标准偏差、最大值、正负一个标准差占比。</li></ul></li><li>Latency Distribution是响应时间分布。<ul><li>50%：50%的响应时间为413.35ms。</li><li>75%：75%的响应时间为948.99ms。</li><li>90%：90%的响应时间为1.33s。</li><li>99%：99%的响应时间为2.44s。</li></ul></li><li>2276265 requests in 30.10s, 412.45MB read：30.10s完成的总请求数（2276265）和数据读取量（412.45MB）。</li><li>Socket errors: connect 1754, read 40, write 0, timeout 0：错误统计，会统计connect连接失败请求个数（1754）、读失败请求个数、写失败请求个数、超时请求个数。</li><li>Requests/sec：QPS。</li><li>Transfer/sec：平均每秒读取13.70MB数据（吞吐量）。</li></ul><h2 id="api-server性能测试实践"><a aria-hidden="true" tabindex="-1" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#api-server性能测试实践"><span class="icon icon-link"></span></a>API Server性能测试实践</h2><p>接下来，我们就来测试下API Server的性能。影响API Server性能的因素有很多，除了iam-apiserver自身的原因之外，服务器的硬件和配置、测试方法、网络环境等都会影响。为了方便你对照性能测试结果，我给出了我的测试环境配置，你可以参考下。</p><ul><li>客户端硬件配置：1核4G。</li><li>客户端软件配置：干净的<code>CentOS Linux release 8.2.2004 (Core)</code>。</li><li>服务端硬件配置：2核8G。</li><li>服务端软件配置：干净的<code>CentOS Linux release 8.2.2004 (Core)</code>。</li><li>测试网络环境：腾讯云VPC内访问，除了性能测试程序外，没有其他资源消耗型业务程序。</li></ul><p>测试架构如下图所示：</p><p><img src="/blog-backend/static/httpsstatic001geekbangorgresourceimage7dc47df51487bc7b761d79247a5d547745c4.a3c5c6a4.jpg" alt=""/></p><h3 id="性能测试脚本介绍"><a aria-hidden="true" tabindex="-1" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#性能测试脚本介绍"><span class="icon icon-link"></span></a>性能测试脚本介绍</h3><p>在做API Server的性能测试时，需要先执行wrk，生成性能测试数据。为了能够更直观地查看性能数据，我们还需要以图表的方式展示这些性能数据。这一讲，我使用 <code>gnuplot</code> 工具来自动化地绘制这些性能图，为此我们需要确保Linux服务器已经安装了 <code>gnuplot</code> 工具。你可以通过以下方式安装：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ sudo yum -y install gnuplot</span></div></pre></div><p>在这一讲的测试中，我会绘制下面这两张图，通过它们来观测和分析API Server的性能。</p><ul><li>QPS &amp; TTLB图：<code>X</code>轴为并发数（Concurrent），<code>Y</code>轴为每秒查询数（QPS）和请求响应时间（TTLB）。</li><li>成功率图：<code>X</code>轴为并发数（Concurrent），<code>Y</code>轴为请求成功率。</li></ul><p>为了方便你测试API接口性能，我将性能测试和绘图逻辑封装在<a target="_blank" rel="noopener noreferrer" href="https://github.com/marmotedu/iam/blob/v1.0.8/scripts/wrktest.sh">scripts/wrktest.sh<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>脚本中，你可以在iam源码根目录下执行如下命令，生成性能测试数据和性能图表：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ scripts/wrktest.sh http://10.0.4.57:8080/healthz</span></div></pre></div><p>上面的命令会执行性能测试，记录性能测试数据，并根据这些性能测试数据绘制出QPS和成功率图。</p><p>接下来，我再来介绍下wrktest.sh性能测试脚本，并给出一个使用示例。</p><p>wrktest.sh性能测试脚本，用来测试API Server的性能，记录测试的性能数据，并根据性能数据使用gnuplot绘制性能图。</p><p>wrktest.sh也可以对比前后两次的性能测试结果，并将对比结果通过图表展示出来。wrktest.sh会根据CPU的核数自动计算出适合的wrk启动线程数（<code>-t</code>）：<code>CPU核数 * 3</code>。</p><p>wrktest.sh默认会测试多个并发下的API性能，默认测试的并发数为<code>200 500 1000 3000 5000 10000 15000 20000 25000 50000</code>。你需要根据自己的服务器配置选择测试的最大并发数，我因为服务器配置不高（主要是<code>8G</code>内存在高并发下，很容易就耗尽），最大并发数选择了<code>50000</code>。如果你的服务器配置够高，可以再依次尝试下测试 <code>100000</code> 、<code>200000</code> 、<code>500000</code> 、<code>1000000</code> 并发下的API性能。</p><p>wrktest.sh的使用方法如下：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ scripts/wrktest.sh -h</span></div><div class="token-line"><span class="token plain">    </span></div><div class="token-line"><span class="token plain">    Usage: scripts/wrktest.sh [OPTION] [diff] URL</span></div><div class="token-line"><span class="token plain">    Performance automation test script.</span></div><div class="token-line"><span class="token plain">    </span></div><div class="token-line"><span class="token plain">      URL                    HTTP request url, like: http://10.0.4.57:8080/healthz</span></div><div class="token-line"><span class="token plain">      diff                   Compare two performance test results</span></div><div class="token-line"><span class="token plain">    </span></div><div class="token-line"><span class="token plain">    OPTIONS:</span></div><div class="token-line"><span class="token plain">      -h                     Usage information</span></div><div class="token-line"><span class="token plain">      -n                     Performance test task name, default: apiserver</span></div><div class="token-line"><span class="token plain">      -d                     Directory used to store performance data and gnuplot graphic, default: _output/wrk</span></div><div class="token-line"><span class="token plain">    </span></div><div class="token-line"><span class="token plain">    Reprot bugs to &lt;colin404@foxmail.com&gt;.</span></div></pre></div><p>wrktest.sh提供的命令行参数介绍如下。</p><ul><li>URL：需要测试的API接口。</li><li>diff：如果比较两次测试的结果，需要执行wrktest.sh diff 。</li><li>-n：本次测试的任务名，wrktest.sh会根据任务名命名生成的文件。</li><li>-d：输出文件存放目录。</li><li>-h：打印帮助信息。</li></ul><p>下面，我来展示一个wrktest.sh使用示例。</p><p>wrktest.sh的主要功能有两个，分别是运行性能测试并获取结果和对比性能测试结果。下面我就分别介绍下它们的具体使用方法。</p><ol><li>运行性能测试并获取结果</li></ol><p>执行如下命令：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ scripts/wrktest.sh http://10.0.4.57:8080/healthz</span></div><div class="token-line"><span class="token plain">    Running wrk command: wrk -t3 -d300s -T30s --latency -c 200 http://10.0.4.57:8080/healthz</span></div><div class="token-line"><span class="token plain">    Running wrk command: wrk -t3 -d300s -T30s --latency -c 500 http://10.0.4.57:8080/healthz</span></div><div class="token-line"><span class="token plain">    Running wrk command: wrk -t3 -d300s -T30s --latency -c 1000 http://10.0.4.57:8080/healthz</span></div><div class="token-line"><span class="token plain">    Running wrk command: wrk -t3 -d300s -T30s --latency -c 3000 http://10.0.4.57:8080/healthz</span></div><div class="token-line"><span class="token plain">    Running wrk command: wrk -t3 -d300s -T30s --latency -c 5000 http://10.0.4.57:8080/healthz</span></div><div class="token-line"><span class="token plain">    Running wrk command: wrk -t3 -d300s -T30s --latency -c 10000 http://10.0.4.57:8080/healthz</span></div><div class="token-line"><span class="token plain">    Running wrk command: wrk -t3 -d300s -T30s --latency -c 15000 http://10.0.4.57:8080/healthz</span></div><div class="token-line"><span class="token plain">    Running wrk command: wrk -t3 -d300s -T30s --latency -c 20000 http://10.0.4.57:8080/healthz</span></div><div class="token-line"><span class="token plain">    Running wrk command: wrk -t3 -d300s -T30s --latency -c 25000 http://10.0.4.57:8080/healthz</span></div><div class="token-line"><span class="token plain">    Running wrk command: wrk -t3 -d300s -T30s --latency -c 50000 http://10.0.4.57:8080/healthz</span></div><div class="token-line"><span class="token plain">    </span></div><div class="token-line"><span class="token plain">    Now plot according to /home/colin/_output/wrk/apiserver.dat</span></div><div class="token-line"><span class="token plain">    QPS graphic file is: /home/colin/_output/wrk/apiserver_qps_ttlb.png</span></div><div class="token-line"><span class="token plain">    Success rate graphic file is: /home/colin/_output/wrk/apiserver_successrate.pngz</span></div></pre></div><p>上面的命令默认会在<code>_output/wrk/</code>目录下生成3个文件：</p><ul><li>apiserver.dat，wrk性能测试结果，每列含义分别为并发数、QPS 平均响应时间、成功率。</li><li>apiserver_qps_ttlb.png，QPS&amp;TTLB图。</li><li>apiserver_successrate.png，成功率图。</li></ul><p>这里要注意，请求URL中的IP地址应该是腾讯云VPC内网地址，因为通过内网访问，不仅网络延时最低，而且还最安全，所以真实的业务通常都是内网访问的。</p><ol start="2"><li>对比性能测试结果</li></ol><p>假设我们还有另外一次API性能测试，测试数据保存在 <code>_output/wrk/http.dat</code> 文件中。</p><p>执行如下命令，对比两次测试结果：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ scripts/wrktest.sh diff _output/wrk/apiserver.dat _output/wrk/http.dat</span></div></pre></div><p><code>apiserver.dat</code>和<code>http.dat</code>是两个需要对比的Wrk性能数据文件。上述命令默认会在<code>_output/wrk</code>目录下生成下面这两个文件：</p><ul><li>apiserver_http.qps.ttlb.diff.png，QPS &amp; TTLB对比图。</li><li>apiserver_http.success_rate.diff.png，成功率对比图。</li></ul><h3 id="关闭debug配置选项"><a aria-hidden="true" tabindex="-1" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#关闭debug配置选项"><span class="icon icon-link"></span></a>关闭Debug配置选项</h3><p>在测试之前，我们需要关闭一些Debug选项，以免影响性能测试。</p><p>执行下面这两步操作，修改iam-apiserver的配置文件：</p><ul><li>将<code>server.mode</code>设置为release，<code>server.middlewares</code>去掉dump、logger中间件。</li><li>将<code>log.level</code>设置为info，<code>log.output-paths</code>去掉stdout。</li></ul><p>因为我们要在执行压力测试时分析程序的性能，所以需要设置<code>feature.profiling</code>为true，以开启性能分析。修改完之后，重新启动iam-apiserver。</p><h3 id="使用wrktestsh测试iam-api接口性能"><a aria-hidden="true" tabindex="-1" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#使用wrktestsh测试iam-api接口性能"><span class="icon icon-link"></span></a>使用wrktest.sh测试IAM API接口性能</h3><p>关闭Debug配置选项之后，就可以执行<code>wrktest.sh</code>命令测试API性能了（默认测试的并发数为<code>200 500 1000 3000 5000 10000 15000 20000 25000 50000</code>）:</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ scripts/wrktest.sh http://10.0.4.57:8080/healthz</span></div></pre></div><p>生成的QPS &amp; TTLB图和成功率图分别如下图所示：</p><p><img src="data:image/png;base64,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" alt="图片" title="QPS &amp;平均响应时间图"/></p><p>上图中，<code>X</code>轴为并发数（Concurrent），<code>Y</code>轴为每秒查询数（QPS）和请求响应时间（TTLB）。</p><p><img src="data:image/png;base64,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" alt="" title="成功率图"/></p><p>上图中，<code>X</code>轴为并发数（Concurrent），<code>Y</code>轴为请求成功率。</p><p>通过上面两张图，你可以看到，API Server在并发数为<code>200</code>时，QPS最大；并发数为<code>500</code>，平均响应时间为<code>56.33ms</code>，成功率为 <code>100.00%</code> 。在并发数达到<code>1000</code>时，成功率开始下降。一些详细数据从图里看不到，你可以直接查看<code>apiserver.dat</code>文件，里面记录了每个并发下具体的QPS、TTLB和成功率数据。</p><p>现在我们有了API Server的性能数据，那么该API Server的QPS处于什么水平呢？一方面，你可以根据自己的业务需要来对比；另一方面，可以和性能更好的Web框架进行对比，总之需要有个参照。</p><p>这里用net/http构建最简单的HTTP服务器，使用相同的测试工具和测试服务器，测试性能并作对比。HTTP服务源码为（位于文件<a target="_blank" rel="noopener noreferrer" href="https://github.com/marmotedu/iam/blob/v1.0.8/tools/httptest/main.go">tools/httptest/main.go<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中）：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">package main</span></div><div class="token-line"><span class="token plain">    </span></div><div class="token-line"><span class="token plain">    import (</span></div><div class="token-line"><span class="token plain">    	&quot;fmt&quot;</span></div><div class="token-line"><span class="token plain">    	&quot;log&quot;</span></div><div class="token-line"><span class="token plain">    	&quot;net/http&quot;</span></div><div class="token-line"><span class="token plain">    )</span></div><div class="token-line"><span class="token plain">    </span></div><div class="token-line"><span class="token plain">    func main() {</span></div><div class="token-line"><span class="token plain">    	http.HandleFunc(&quot;/healthz&quot;, func(w http.ResponseWriter, r *http.Request) {</span></div><div class="token-line"><span class="token plain">    		message := `{&quot;status&quot;:&quot;ok&quot;}`</span></div><div class="token-line"><span class="token plain">    		fmt.Fprint(w, message)</span></div><div class="token-line"><span class="token plain">    	})</span></div><div class="token-line"><span class="token plain">    </span></div><div class="token-line"><span class="token plain">    	addr := &quot;:6667&quot;</span></div><div class="token-line"><span class="token plain">    	fmt.Printf(&quot;Serving http service on %s\n&quot;, addr)</span></div><div class="token-line"><span class="token plain">    	log.Fatal(http.ListenAndServe(addr, nil))</span></div><div class="token-line"><span class="token plain">    }</span></div></pre></div><p>我们将上述HTTP服务的请求路径设置为<code>/healthz</code>，并且返回<code>{<!-- -->&quot;status&quot;:&quot;ok&quot;<!-- -->}</code>，跟API Server的接口返回数据完全一样。通过这种方式，你可以排除因为返回数据大小不同而造成的性能差异。</p><p>可以看到，该HTTP服务器很简单，只是利用<code>net/http</code>包最原生的功能，在Go中几乎所有的Web框架都是基于<code>net/http</code>包封装的。既然是封装，肯定比不上原生的性能，所以我们要把它跟用<code>net/http</code>直接启动的HTTP服务接口的性能进行对比，来衡量我们的API Server性能。</p><p>我们需要执行相同的wrk测试，并将结果跟API Server的测试结果进行对比，将对比结果绘制成对比图。具体对比过程可以分为3步。</p><p>第一步，启动HTTP服务。</p><p>在iam源码根目录下执行如下命令：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ go run tools/httptest/main.go</span></div></pre></div><p>第二步，执行<code>wrktest.sh</code>脚本，测试该HTTP服务的性能：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ scripts/wrktest.sh -n http http://10.0.4.57:6667/healthz</span></div></pre></div><p>上述命令会生成 <code>_output/wrk/http.dat</code> 文件。</p><p>第三步，对比两次性能测试数据：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ scripts/wrktest.sh diff _output/wrk/apiserver.dat _output/wrk/http.dat</span></div></pre></div><p>生成的两张对比图表，如下所示：</p><p><img src="data:image/png;base64,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" alt="图片" title="QPS &amp;平均响应时间对比"/></p><p><img src="data:image/png;base64,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" alt="图片" title="成功率对比"/></p><p>通过上面两张对比图，我们可以看出，API Server在QPS、响应时间和成功率上都不如原生的HTTP Server，特别是QPS，最大QPS只有原生HTTP Server 最大QPS的<code>13.68%</code>，性能需要调优。</p><h2 id="api-server性能分析"><a aria-hidden="true" tabindex="-1" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#api-server性能分析"><span class="icon icon-link"></span></a>API Server性能分析</h2><p>上面，我们测试了API接口的性能，如果性能不合预期，我们还需要分析性能数据，并优化性能。</p><p>在分析前我们需要对API Server加压，在加压的情况下，API接口的性能才更可能暴露出来，所以继续执行如下命令：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ scripts/wrktest.sh http://10.0.4.57:8080/healthz</span></div></pre></div><p>在上述命令执行压力测试期间，可以打开另外一个Linux终端，使用<code>go tool pprof</code>工具分析HTTP的profile文件：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">$ go tool pprof http://10.0.4.57:8080/debug/pprof/profile</span></div></pre></div><p>执行完<code>go tool pprof</code>后，因为需要采集性能数据，所以该命令会阻塞30s。</p><p>在pprof交互shell中，执行<code>top \-cum</code>查看累积采样时间，我们执行<code>top30 \-cum</code>，多观察一些函数：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">(pprof) top20 -cum</span></div><div class="token-line"><span class="token plain">    Showing nodes accounting for 32.12s, 39.62% of 81.07s total</span></div><div class="token-line"><span class="token plain">    Dropped 473 nodes (cum &lt;= 0.41s)</span></div><div class="token-line"><span class="token plain">    Showing top 20 nodes out of 167</span></div><div class="token-line"><span class="token plain">    (pprof) top30 -cum</span></div><div class="token-line"><span class="token plain">    Showing nodes accounting for 11.82s, 20.32% of 58.16s total</span></div><div class="token-line"><span class="token plain">    Dropped 632 nodes (cum &lt;= 0.29s)</span></div><div class="token-line"><span class="token plain">    Showing top 30 nodes out of 239</span></div><div class="token-line"><span class="token plain">          flat  flat%   sum%        cum   cum%</span></div><div class="token-line"><span class="token plain">         0.10s  0.17%  0.17%     51.59s 88.70%  net/http.(*conn).serve</span></div><div class="token-line"><span class="token plain">         0.01s 0.017%  0.19%     42.86s 73.69%  net/http.serverHandler.ServeHTTP</span></div><div class="token-line"><span class="token plain">         0.04s 0.069%  0.26%     42.83s 73.64%  github.com/gin-gonic/gin.(*Engine).ServeHTTP</span></div><div class="token-line"><span class="token plain">         0.01s 0.017%  0.28%     42.67s 73.37%  github.com/gin-gonic/gin.(*Engine).handleHTTPRequest</span></div><div class="token-line"><span class="token plain">         0.08s  0.14%  0.41%     42.59s 73.23%  github.com/gin-gonic/gin.(*Context).Next (inline)</span></div><div class="token-line"><span class="token plain">         0.03s 0.052%  0.46%     42.58s 73.21%  .../internal/pkg/middleware.RequestID.func1</span></div><div class="token-line"><span class="token plain">             0     0%  0.46%     41.02s 70.53%  .../internal/pkg/middleware.Context.func1</span></div><div class="token-line"><span class="token plain">         0.01s 0.017%  0.48%     40.97s 70.44%  github.com/gin-gonic/gin.CustomRecoveryWithWriter.func1</span></div><div class="token-line"><span class="token plain">         0.03s 0.052%  0.53%     40.95s 70.41%  .../internal/pkg/middleware.LoggerWithConfig.func1</span></div><div class="token-line"><span class="token plain">         0.01s 0.017%  0.55%     33.46s 57.53%  .../internal/pkg/middleware.NoCache</span></div><div class="token-line"><span class="token plain">         0.08s  0.14%  0.69%     32.58s 56.02%  github.com/tpkeeper/gin-dump.DumpWithOptions.func1</span></div><div class="token-line"><span class="token plain">         0.03s 0.052%  0.74%     24.73s 42.52%  github.com/tpkeeper/gin-dump.FormatToBeautifulJson</span></div><div class="token-line"><span class="token plain">         0.02s 0.034%  0.77%     22.73s 39.08%  github.com/tpkeeper/gin-dump.BeautifyJsonBytes</span></div><div class="token-line"><span class="token plain">         0.08s  0.14%  0.91%     16.39s 28.18%  github.com/tpkeeper/gin-dump.format</span></div><div class="token-line"><span class="token plain">         0.21s  0.36%  1.27%     16.38s 28.16%  github.com/tpkeeper/gin-dump.formatMap</span></div><div class="token-line"><span class="token plain">         3.75s  6.45%  7.72%     13.71s 23.57%  runtime.mallocgc</span></div><div class="token-line"><span class="token plain">         ...</span></div></pre></div><p>因为<code>top30</code>内容过多，这里只粘贴了耗时最多的一些关联函数。从上面的列表中，可以看到有ServeHTTP类的函数，这些函数是gin/http自带的函数，我们无需对此进行优化。</p><p>还有这样一些函数：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">.../gin.(*Context).Next (inline)</span></div><div class="token-line"><span class="token plain">    .../internal/pkg/middleware.RequestID.func1</span></div><div class="token-line"><span class="token plain">    .../internal/pkg/middleware.Context.func1</span></div><div class="token-line"><span class="token plain">    github.com/gin-gonic/gin.CustomRecoveryWithWriter.func1</span></div><div class="token-line"><span class="token plain">    .../internal/pkg/middleware.LoggerWithConfig.func1</span></div><div class="token-line"><span class="token plain">    .../internal/pkg/middleware.NoCache</span></div><div class="token-line"><span class="token plain">    github.com/tpkeeper/gin-dump.DumpWithOptions.func1</span></div></pre></div><p>可以看到，<code>middleware.RequestID.func1</code>、<code>middleware.Context.func1</code>、<code>gin.CustomRecoveryWithWriter.func1</code>、<code>middleware.LoggerWithConfig.func1</code>等，这些耗时较久的函数都是我们加载的Gin中间件。这些中间件消耗了大量的CPU时间，所以我们可以选择性加载这些中间件，删除一些不需要的中间件，来优化API Server的性能。<br/>假如我们暂时不需要这些中间件，也可以通过配置iam-apiserver的配置文件，将<code>server.middlewares</code>设置为空或者注释掉，然后重启iam-apiserver。重启后，再次执行<code>wrktest.sh</code>测试性能，并跟原生的HTTP Server性能进行对比，对比结果如下面2张图所示：</p><p><img src="data:image/png;base64,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" alt="图片" title="QPS &amp;平均响应时间对比"/></p><p><img src="data:image/png;base64,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" alt="图片" title="成功率对比"/></p><p>可以看到，删除无用的Gin中间件后，API Server的性能有了很大的提升，并发数为<code>200</code>时性能最好，此时QPS为<code>47812</code>，响应时间为<code>4.33``ms</code>，成功率为<code>100.00``%</code>。在并发数为<code>50000</code>的时候，其QPS是原生HTTP Server的<code>75.02%</code>。</p><h3 id="api接口性能参考"><a aria-hidden="true" tabindex="-1" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#api接口性能参考"><span class="icon icon-link"></span></a>API接口性能参考</h3><p>不同团队对API接口的性能要求不同，同一团队对每个API接口的性能要求也不同，所以并没有一个统一的数值标准来衡量API接口的性能，但可以肯定的是，性能越高越好。我根据自己的研发经验，在这里给出一个参考值（并发数可根据需要选择），如下表所示：</p><p><img src="/blog-backend/static/httpsstatic001geekbangorgresourceimage587c581fc922afedaf36379c5a5d723ebd7c.cfbcee59.jpg" alt=""/></p><h2 id="api-server性能测试注意事项"><a aria-hidden="true" tabindex="-1" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#api-server性能测试注意事项"><span class="icon icon-link"></span></a>API Server性能测试注意事项</h2><p>在进行API Server性能测试时，要考虑到API Server的性能影响因素。影响API Server性能的因素很多，大致可以分为两类，分别是Web框架的性能和API接口的性能。另外，在做性能测试时，还需要确保测试环境是一致的，最好是一个干净的测试环境。</p><h3 id="web框架性能"><a aria-hidden="true" tabindex="-1" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#web框架性能"><span class="icon icon-link"></span></a>Web框架性能</h3><p>Web框架的性能至关重要，因为它会影响我们的每一个API接口的性能。</p><p>在设计阶段，我们会确定所使用的Web框架，这时候我们需要对Web框架有个初步的测试，确保我们选择的Web框架在性能和稳定性上都足够优秀。当整个Go后端服务开发完成之后，在上线之前，我们还需要对Web框架再次进行测试，确保按照我们最终的使用方式，Web框架仍然能够保持优秀的性能和稳定性。</p><p>我们通常会通过API接口来测试Web框架的性能，例如健康检查接口<code>/healthz</code>。我们需要保证该API接口足够简单，API接口里面不应该掺杂任何逻辑，只需要象征性地返回一个很小的返回内容即可。比如，这一讲中我们通过<code>/healthz</code>接口来测试Web框架的性能：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">s.GET(&quot;/healthz&quot;, func(c *gin.Context) {</span></div><div class="token-line"><span class="token plain">        core.WriteResponse(c, nil, map[string]string{&quot;status&quot;: &quot;ok&quot;})</span></div><div class="token-line"><span class="token plain">    })</span></div></pre></div><p>接口中只调用了<code>core.WriteResponse</code>函数，返回了<code>{<!-- -->&quot;status&quot;:&quot;ok&quot;<!-- -->}</code>。这里使用<code>core.WriteResponse</code>函数返回请求数据，而不是直接返回<code>ok</code>字符串，这样做是为了保持API接口返回格式统一。</p><h3 id="api接口性能"><a aria-hidden="true" tabindex="-1" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#api接口性能"><span class="icon icon-link"></span></a>API接口性能</h3><p>除了测试Web框架的性能，我们还可能需要测试某些重要的API接口，甚至所有API接口的性能。为了测试API接口在真实场景下的接口性能，我们会使用wrk这类HTTP压力测试工具，来模拟多个API请求，进而分析API的性能。</p><p>因为会模拟大量的请求，这时候测试写类接口，例如<code>Create</code>、<code>Update</code>、<code>Delete</code>等会存在一些问题，比如可能在数据库中插入了很多数据，导致磁盘空间被写满或者数据库被压爆。所以，针对写类接口，我们可以借助单元测试，来测试其性能。根据我的开发经验，写类接口通常不会有性能问题，反而读类接口更可能遇到性能问题。针对读类接口，我们可以使用wrk这类HTTP压力测试工具来进行测试。</p><h3 id="测试环境"><a aria-hidden="true" tabindex="-1" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#测试环境"><span class="icon icon-link"></span></a>测试环境</h3><p>在做性能/压力测试时，为了不影响生产环境，要确保在测试环境进行压测，并且测试环境的网络不能影响到生产环境的网络。另外，为了更好地进行性能对比和分析，也要保证我们的测试方法和测试环境是一致的。这就要求我们最好将性能测试自动化，并且每次在同一个测试环境进行测试。</p><h2 id="总结"><a aria-hidden="true" tabindex="-1" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#总结"><span class="icon icon-link"></span></a>总结</h2><p>在项目上线前，我们需要对API接口进行性能测试。通常API接口的性能延时要小于 <code>500ms</code> ，如果大于这个值，需要考虑优化性能。在进行性能测试时，需要确保每次测试都有一个一致的测试环境，这样不同测试之间的数据才具有可对比性。这一讲中，我推荐了一个比较优秀的性能测试工具 <code>wrk</code> ，我们可以编写shell脚本，将wrk的性能测试数据自动绘制成图，方便我们查看、对比性能。</p><p>如果发现API接口的性能不符合预期，我们可以借助 <code>go tool pprof</code> 工具来分析性能。在 <code>go tool pprof</code> 交互界面，执行 <code>top \-cum</code> 命令查看累积采样时间，根据累积采样时间确定影响性能的代码，并优化代码。优化后，再进行测试，如果不满足，继续分析API接口的性能。如此往复，直到API接口的性能满足预期为止。</p><h2 id="课后练习"><a aria-hidden="true" tabindex="-1" href="/blog-backend/go语言项目开发实战/06.实战第4站服务测试/04#课后练习"><span class="icon icon-link"></span></a>课后练习</h2><ol><li>选择一个项目，并使用wrktest.sh脚本测试其API接口，分析并优化API接口的性能。</li><li>思考下，在你的工作中，还有没有其他好的API接口性能分析方法，欢迎在留言区分享讨论。</li></ol><p>欢迎你在留言区与我交流讨论，我们下一讲见。</p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/GGwujun/blog/edit/master/ssrc/go语言项目开发实战/06.实战第4站服务测试/04.md">在 GitHub 上编辑此页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">2023/9/27 11:15:40</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "//www.google-analytics.com/analytics.js",
            "ga"
          );
          ga("create", "UA-149864185-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="/blog-backend/umi.e14e5a14.js"></script>
  </body>
</html>
